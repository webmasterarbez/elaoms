# =============================================================================
# ELAOMS - ElevenLabs Agents Open Memory System
# Environment Variables Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env to version control
#
# For production deployments, see .env.production for recommended settings
# =============================================================================

# =============================================================================
# ELEVENLABS CONFIGURATION
# =============================================================================

# Primary API key for ElevenLabs SDK
# Get this from: https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here

# HMAC secret for post-call webhook validation (REQUIRED for security)
# This is used to verify that webhook requests are genuinely from ElevenLabs
# Get this from your ElevenLabs Agent webhook configuration
ELEVENLABS_POST_CALL_KEY=your_post_call_hmac_secret_here

# API key for client-data webhook authentication
# Used for X-Api-Key header validation on /webhooks/client-data endpoint
ELEVENLABS_CLIENT_DATA_KEY=your_client_data_api_key_here

# HMAC secret for search-data webhook validation (reserved for future use)
ELEVENLABS_SEARCH_DATA_KEY=your_search_data_hmac_secret_here

# =============================================================================
# OPENMEMORY CONNECTION
# =============================================================================

# OpenMemory API key for authentication
# Must match OM_API_KEY on the OpenMemory server
OPENMEMORY_KEY=your_openmemory_api_key_here

# OpenMemory service port/URL
# For remote mode: full URL (e.g., http://localhost:8080)
# For local mode: port number (e.g., 8080)
OPENMEMORY_PORT=8080

# Path to OpenMemory database file (for local mode reference)
OPENMEMORY_DB_PATH=./data/openmemory.db

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Directory path for saving conversation payloads (transcripts, audio, etc.)
# Ensure this directory exists and has write permissions
# Structure: {PAYLOAD_STORAGE_PATH}/{conversation_id}/{conversation_id}_*.json
PAYLOAD_STORAGE_PATH=./payloads

# =============================================================================
# =============================================================================
# OPENMEMORY SERVER CONFIGURATION (Optional)
# =============================================================================
# Set these if running OpenMemory locally alongside ELAOMS.
# For production, see .env.production for comprehensive settings.
# =============================================================================

# -----------------------------------------------------------------------------
# Backend Server Settings
# -----------------------------------------------------------------------------
# OM_PORT=8080
# OM_API_KEY=your-secret-api-key-here
# OM_RATE_LIMIT_ENABLED=true
# OM_RATE_LIMIT_WINDOW_MS=60000
# OM_RATE_LIMIT_MAX_REQUESTS=100
# OM_LOG_AUTH=false
# OM_TELEMETRY=true
# OM_MODE=standard

# -----------------------------------------------------------------------------
# Metadata Store (SQLite for development)
# -----------------------------------------------------------------------------
# OM_METADATA_BACKEND=sqlite
# OM_DB_PATH=./data/openmemory.sqlite

# PostgreSQL (recommended for production)
# OM_METADATA_BACKEND=postgres
# OM_PG_HOST=localhost
# OM_PG_PORT=5432
# OM_PG_DB=openmemory
# OM_PG_USER=postgres
# OM_PG_PASSWORD=postgres
# OM_PG_SCHEMA=public
# OM_PG_TABLE=openmemory_memories
# OM_PG_SSL=disable

# -----------------------------------------------------------------------------
# Vector Store Configuration
# -----------------------------------------------------------------------------
# OM_VECTOR_BACKEND=sqlite
# OM_VECTOR_TABLE=vectors

# Weaviate (for large scale deployments)
# OM_VECTOR_BACKEND=weaviate
# OM_WEAVIATE_URL=http://localhost:8081
# OM_WEAVIATE_API_KEY=
# OM_WEAVIATE_CLASS=OpenMemory

# -----------------------------------------------------------------------------
# Embeddings Configuration
# -----------------------------------------------------------------------------
# OM_EMBEDDINGS=openai
# OM_EMBEDDING_FALLBACK=synthetic
# OM_EMBED_MODE=simple
# OM_ADV_EMBED_PARALLEL=false
# OM_EMBED_DELAY_MS=200
# OM_OPENAI_BASE_URL=https://api.openai.com/v1
# OM_MAX_PAYLOAD_SIZE=1000000

# -----------------------------------------------------------------------------
# API Keys for Embedding Providers
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=sk-your-openai-api-key
# GEMINI_API_KEY=your-gemini-api-key
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# OLLAMA_URL=http://localhost:11434
# LOCAL_MODEL_PATH=/path/to/your/local/model

# -----------------------------------------------------------------------------
# Performance Tier & Memory System
# -----------------------------------------------------------------------------
# OM_TIER=hybrid
# OM_KEYWORD_BOOST=2.5
# OM_KEYWORD_MIN_LENGTH=3
# OM_MIN_SCORE=0.3
# OM_DECAY_INTERVAL_MINUTES=120
# OM_DECAY_THREADS=3
# OM_DECAY_COLD_THRESHOLD=0.25
# OM_DECAY_REINFORCE_ON_QUERY=true
# OM_REGENERATION_ENABLED=true
# OM_MAX_VECTOR_DIM=1536
# OM_MIN_VECTOR_DIM=64
# OM_SUMMARY_LAYERS=3
# OM_USE_SUMMARY_ONLY=true
# OM_SUMMARY_MAX_LENGTH=300
# OM_SEG_SIZE=10000

# -----------------------------------------------------------------------------
# Auto-Reflection & Compression
# -----------------------------------------------------------------------------
# OM_AUTO_REFLECT=false
# OM_REFLECT_INTERVAL=10
# OM_REFLECT_MIN_MEMORIES=20
# OM_COMPRESSION_ENABLED=false
# OM_COMPRESSION_MIN_LENGTH=100
# OM_COMPRESSION_ALGORITHM=auto

# -----------------------------------------------------------------------------
# LangGraph Integration
# -----------------------------------------------------------------------------
# OM_LG_NAMESPACE=default
# OM_LG_MAX_CONTEXT=50
# OM_LG_REFLECTIVE=true
