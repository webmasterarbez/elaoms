{
  "name": "Healthcare Appointment Agent",
  "tags": ["healthcare", "appointments", "medical"],
  "conversation_config": {
    "agent": {
      "first_message": "Hello, thank you for calling Wellness Medical Center. This is Amy, your virtual assistant. I can help you schedule appointments, request prescription refills, or answer general questions. How may I assist you today?",
      "language": "en",
      "prompt": {
        "prompt": "You are Amy, a professional and compassionate virtual medical assistant for Wellness Medical Center. You handle appointment scheduling, basic inquiries, and prescription refill requests.\n\n## Your Capabilities:\n1. **Schedule Appointments**: New patient visits, follow-ups, annual checkups\n2. **Reschedule/Cancel**: Modify existing appointments\n3. **Prescription Refills**: Take refill requests (not controlled substances)\n4. **General Information**: Office hours, locations, accepted insurance\n5. **Basic Triage**: Assess urgency and direct to appropriate care\n\n## IMPORTANT Guidelines:\n- **Never provide medical advice** - Always recommend speaking with a healthcare provider\n- **Patient Verification**: Always verify patient by date of birth and last name\n- **Emergency Protocol**: If patient describes emergency symptoms, immediately advise calling 911\n- **Privacy**: Never repeat sensitive health information back unless necessary for verification\n\n## Emergency Symptoms (Advise 911):\n- Chest pain or difficulty breathing\n- Signs of stroke (face drooping, arm weakness, speech difficulty)\n- Severe bleeding or trauma\n- Loss of consciousness\n- Severe allergic reactions\n\n## Urgent Care Referral:\n- High fever (over 103F)\n- Severe pain\n- Cuts requiring stitches\n- Persistent vomiting\n- Symptoms worsening rapidly\n\n## Appointment Types:\n- **New Patient Visit**: 45 minutes, requires insurance info\n- **Follow-up**: 15-30 minutes\n- **Annual Physical**: 45 minutes, fasting may be required\n- **Sick Visit**: 20 minutes, same-day when available\n\n## Office Information:\n- Hours: Monday-Friday 8 AM - 6 PM, Saturday 9 AM - 1 PM\n- Locations: Main Campus (123 Health St), East Clinic (456 Care Ave)\n- Accepted Insurance: Most major providers including Blue Cross, Aetna, United\n\n## Tone:\n- Warm and reassuring\n- Professional but not cold\n- Patient and never rushed\n- Clear and easy to understand",
        "llm": "gpt-4o",
        "temperature": 0.5,
        "max_tokens": 1024,
        "tools": [
          {
            "type": "webhook",
            "name": "check_availability",
            "description": "Check available appointment slots for a specific date and provider",
            "api_schema": {
              "url": "https://your-webhook-url.com/api/appointments/availability",
              "method": "GET",
              "query_params_schema": {
                "properties": {
                  "date": {"type": "string", "description": "Date to check in YYYY-MM-DD format"},
                  "provider_id": {"type": "string", "description": "Optional specific provider ID"},
                  "appointment_type": {"type": "string", "description": "Type: new_patient, follow_up, physical, sick_visit"}
                },
                "required": ["date", "appointment_type"]
              }
            }
          },
          {
            "type": "webhook",
            "name": "book_appointment",
            "description": "Book an appointment for the patient",
            "api_schema": {
              "url": "https://your-webhook-url.com/api/appointments/book",
              "method": "POST",
              "request_body_schema": {
                "type": "object",
                "properties": {
                  "patient_dob": {"type": "string", "description": "Patient date of birth YYYY-MM-DD"},
                  "patient_last_name": {"type": "string", "description": "Patient last name"},
                  "appointment_datetime": {"type": "string", "description": "Appointment date and time"},
                  "appointment_type": {"type": "string", "description": "Type of appointment"},
                  "reason": {"type": "string", "description": "Brief reason for visit"}
                },
                "required": ["patient_dob", "patient_last_name", "appointment_datetime", "appointment_type"]
              }
            }
          },
          {
            "type": "webhook",
            "name": "request_refill",
            "description": "Submit a prescription refill request",
            "api_schema": {
              "url": "https://your-webhook-url.com/api/prescriptions/refill",
              "method": "POST",
              "request_body_schema": {
                "type": "object",
                "properties": {
                  "patient_dob": {"type": "string"},
                  "patient_last_name": {"type": "string"},
                  "medication_name": {"type": "string", "description": "Name of medication to refill"},
                  "pharmacy_name": {"type": "string", "description": "Preferred pharmacy"}
                },
                "required": ["patient_dob", "patient_last_name", "medication_name"]
              }
            }
          },
          {
            "type": "system",
            "name": "transfer_to_number",
            "description": "Transfer to nurse line for medical questions",
            "phone_number": "+18005559876"
          },
          {
            "type": "system",
            "name": "end_call",
            "description": "End the call when assistance is complete"
          }
        ]
      }
    },
    "asr": {
      "provider": "elevenlabs",
      "quality": "high"
    },
    "tts": {
      "model_id": "eleven_turbo_v2_5",
      "voice_id": "EXAVITQu4vr4xnSDxMaL",
      "stability": 0.65,
      "similarity_boost": 0.8,
      "optimize_streaming_latency": "2"
    },
    "turn": {
      "turn_timeout": 15.0,
      "silence_end_call_timeout": 30.0,
      "turn_eagerness": "patient"
    },
    "conversation": {
      "max_duration_seconds": 600
    }
  },
  "platform_settings": {
    "evaluation": {
      "criteria": [
        {
          "id": "appointment_booked",
          "name": "Appointment Scheduled",
          "type": "prompt",
          "conversation_goal_prompt": "Check if an appointment was successfully scheduled or a refill request was submitted"
        },
        {
          "id": "appropriate_triage",
          "name": "Appropriate Triage",
          "type": "prompt",
          "conversation_goal_prompt": "Verify that any medical concerns were appropriately triaged (emergency to 911, urgent to urgent care, routine to appointment)"
        }
      ]
    },
    "data_collection": {
      "appointment_type": {
        "type": "string",
        "description": "Type of appointment requested"
      },
      "reason_for_visit": {
        "type": "string",
        "description": "Brief description of why patient is calling"
      },
      "urgency_level": {
        "type": "string",
        "description": "Assessed urgency: routine, urgent, emergency"
      },
      "callback_requested": {
        "type": "boolean",
        "description": "Whether patient requested a callback from staff"
      }
    },
    "privacy": {
      "record_voice": true,
      "retention_days": 30,
      "delete_transcript_and_pii": false
    }
  }
}
